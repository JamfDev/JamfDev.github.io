"use strict";(self.webpackChunkp_my_dm=self.webpackChunkp_my_dm||[]).push([[8803],{9622:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"aplicaciones m\xf3viles/5 Persistencia/5.2 Shared Preferences","title":"5.2 Shared Preferences","description":"\ud83d\udee0\ufe0f SharedPreferences es una soluci\xf3n perfecta para almacenar datos simples en Android, como configuraciones o preferencias de usuario. Con un uso correcto y entendiendo sus limitaciones, puedes mejorar significativamente la experiencia del usuario en tu aplicaci\xf3n.","source":"@site/docs/aplicaciones m\xf3viles/5 Persistencia/5.2 Shared Preferences.md","sourceDirName":"aplicaciones m\xf3viles/5 Persistencia","slug":"/aplicaciones m\xf3viles/5 Persistencia/5.2 Shared Preferences","permalink":"/docs/aplicaciones m\xf3viles/5 Persistencia/5.2 Shared Preferences","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"movilesSidebar","previous":{"title":"5.1 Conceptos Fundamentales","permalink":"/docs/aplicaciones m\xf3viles/5 Persistencia/5.1 Conceptos Fundamentales"},"next":{"title":"5.3 Room","permalink":"/docs/category/53-room"}}');var a=n(4848),i=n(8453);const o={sidebar_position:2},c=void 0,d={},l=[{value:"\ud83d\udee0\ufe0f <code>SharedPreferences</code> es una soluci\xf3n perfecta para almacenar datos simples en Android, como configuraciones o preferencias de usuario. Con un uso correcto y entendiendo sus limitaciones, puedes mejorar significativamente la experiencia del usuario en tu aplicaci\xf3n.",id:"\ufe0f-sharedpreferences-es-una-soluci\xf3n-perfecta-para-almacenar-datos-simples-en-android-como-configuraciones-o-preferencias-de-usuario-con-un-uso-correcto-y-entendiendo-sus-limitaciones-puedes-mejorar-significativamente-la-experiencia-del-usuario-en-tu-aplicaci\xf3n",level:4},{value:"\ud83d\udca1 <strong>\xbfPara qu\xe9 usar <code>SharedPreferences</code>?</strong>",id:"-para-qu\xe9-usar-sharedpreferences",level:3},{value:"\ud83d\udd11 <strong>Claves para Usar <code>SharedPreferences</code> con \xc9xito</strong>",id:"-claves-para-usar-sharedpreferences-con-\xe9xito",level:3},{value:"\ud83e\udde9 <strong>C\xf3digo de Ejemplo</strong>",id:"-c\xf3digo-de-ejemplo",level:3},{value:"<strong>1. Guardar datos en <code>SharedPreferences</code></strong>",id:"1-guardar-datos-en-sharedpreferences",level:4},{value:"<strong>2. Leer datos de <code>SharedPreferences</code></strong>",id:"2-leer-datos-de-sharedpreferences",level:4},{value:"<strong>3. Eliminar un dato</strong>",id:"3-eliminar-un-dato",level:4},{value:"<strong>4. Limpiar todos los datos</strong>",id:"4-limpiar-todos-los-datos",level:4},{value:"\u274c <strong>Errores Comunes (\xa1Ev\xedtalos!)</strong>",id:"-errores-comunes-ev\xedtalos",level:3},{value:"\u2705 <strong>Buenas Pr\xe1cticas</strong>",id:"-buenas-pr\xe1cticas",level:3}];function t(e){const r={admonition:"admonition",code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.h4,{id:"\ufe0f-sharedpreferences-es-una-soluci\xf3n-perfecta-para-almacenar-datos-simples-en-android-como-configuraciones-o-preferencias-de-usuario-con-un-uso-correcto-y-entendiendo-sus-limitaciones-puedes-mejorar-significativamente-la-experiencia-del-usuario-en-tu-aplicaci\xf3n",children:["\ud83d\udee0\ufe0f ",(0,a.jsx)(r.code,{children:"SharedPreferences"})," es una soluci\xf3n perfecta para almacenar datos simples en Android, como configuraciones o preferencias de usuario. Con un uso correcto y entendiendo sus limitaciones, puedes mejorar significativamente la experiencia del usuario en tu aplicaci\xf3n."]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsxs)(r.h3,{id:"-para-qu\xe9-usar-sharedpreferences",children:["\ud83d\udca1 ",(0,a.jsxs)(r.strong,{children:["\xbfPara qu\xe9 usar ",(0,a.jsx)(r.code,{children:"SharedPreferences"}),"?"]})]}),"\n",(0,a.jsxs)(r.p,{children:["\ud83d\uddc2\ufe0f ",(0,a.jsx)(r.strong,{children:"Usos comunes:"})]}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"\ud83c\udf17 Guardar configuraciones como modo oscuro o idioma preferido."}),"\n",(0,a.jsx)(r.li,{children:"\ud83d\udd12 Persistir peque\xf1os datos, como el estado de inicio de sesi\xf3n."}),"\n",(0,a.jsxs)(r.li,{children:["\u2714\ufe0f Almacenar valores de tipo ",(0,a.jsx)(r.code,{children:"String"}),", ",(0,a.jsx)(r.code,{children:"int"}),", ",(0,a.jsx)(r.code,{children:"float"}),", ",(0,a.jsx)(r.code,{children:"boolean"})," o ",(0,a.jsx)(r.code,{children:"Set<String>"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(r.admonition,{type:"note",children:[(0,a.jsxs)(r.mdxAdmonitionTitle,{children:["\ud83c\udf1f ",(0,a.jsx)(r.strong,{children:"Caracter\xedsticas Principales"})]}),(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Persistencia:"})," Los datos permanecen almacenados, incluso tras cerrar la app o reiniciar el dispositivo."]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Privacidad:"})," Los datos son accesibles solo por la aplicaci\xf3n que los genera."]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Facilidad de uso:"})," M\xe9todos simples para guardar y recuperar datos."]}),"\n"]})]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsxs)(r.h3,{id:"-claves-para-usar-sharedpreferences-con-\xe9xito",children:["\ud83d\udd11 ",(0,a.jsxs)(r.strong,{children:["Claves para Usar ",(0,a.jsx)(r.code,{children:"SharedPreferences"})," con \xc9xito"]})]}),"\n",(0,a.jsxs)(r.admonition,{type:"tip",children:[(0,a.jsx)(r.mdxAdmonitionTitle,{}),(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:["\ud83d\udcdd ",(0,a.jsx)(r.strong,{children:"Organiza las claves:"})," Usa constantes para evitar errores tipogr\xe1ficos."]}),"\n",(0,a.jsxs)(r.li,{children:["\ud83d\udcc9 ",(0,a.jsx)(r.strong,{children:"Evita almacenar datos grandes:"})," No est\xe1 dise\xf1ado para manejar datos complejos."]}),"\n",(0,a.jsxs)(r.li,{children:["\ud83d\ude80 ",(0,a.jsx)(r.strong,{children:"Optimiza lecturas:"})," Realiza operaciones r\xe1pidas en el hilo principal."]}),"\n",(0,a.jsxs)(r.li,{children:["\u26a1 ",(0,a.jsx)(r.strong,{children:"Aplica cambios sin bloqueos:"})," Usa ",(0,a.jsx)(r.code,{children:"apply()"})," en lugar de ",(0,a.jsx)(r.code,{children:"commit()"}),"."]}),"\n",(0,a.jsxs)(r.li,{children:["\ud83d\udd10 ",(0,a.jsx)(r.strong,{children:"Cuida la seguridad:"})," No guardes datos sensibles como contrase\xf1as."]}),"\n"]})]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsxs)(r.h3,{id:"-c\xf3digo-de-ejemplo",children:["\ud83e\udde9 ",(0,a.jsx)(r.strong,{children:"C\xf3digo de Ejemplo"})]}),"\n",(0,a.jsx)(r.h4,{id:"1-guardar-datos-en-sharedpreferences",children:(0,a.jsxs)(r.strong,{children:["1. Guardar datos en ",(0,a.jsx)(r.code,{children:"SharedPreferences"})]})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'// Crear o acceder a un archivo de preferencias\r\nSharedPreferences sharedPreferences = getSharedPreferences("MisPreferencias", Context.MODE_PRIVATE);\r\n\r\n// Editor para modificar los valores\r\nSharedPreferences.Editor editor = sharedPreferences.edit();\r\n\r\n// Guardar valores\r\neditor.putString("usuario", "Juan");\r\neditor.putInt("edad", 25);\r\neditor.putBoolean("notificaciones_activadas", true);\r\n\r\n// Aplicar los cambios (as\xedncrono)\r\neditor.apply(); // Usa commit() si necesitas confirmaci\xf3n inmediata\n'})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h4,{id:"2-leer-datos-de-sharedpreferences",children:(0,a.jsxs)(r.strong,{children:["2. Leer datos de ",(0,a.jsx)(r.code,{children:"SharedPreferences"})]})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'// Acceder al archivo de preferencias\r\nSharedPreferences sharedPreferences = getSharedPreferences("MisPreferencias", Context.MODE_PRIVATE);\r\n\r\n// Recuperar valores\r\nString usuario = sharedPreferences.getString("usuario", "Usuario no registrado");\r\nint edad = sharedPreferences.getInt("edad", 0);\r\nboolean notificaciones = sharedPreferences.getBoolean("notificaciones_activadas", false);\r\n\r\n// Mostrar los datos\r\nLog.d("SharedPreferences", "Usuario: " + usuario + ", Edad: " + edad + ", Notificaciones: " + notificaciones);\n'})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h4,{id:"3-eliminar-un-dato",children:(0,a.jsx)(r.strong,{children:"3. Eliminar un dato"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'// Eliminar una clave espec\xedfica\r\nSharedPreferences.Editor editor = sharedPreferences.edit();\r\neditor.remove("edad");\r\neditor.apply();\n'})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h4,{id:"4-limpiar-todos-los-datos",children:(0,a.jsx)(r.strong,{children:"4. Limpiar todos los datos"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"// Limpiar todas las claves y valores\r\nSharedPreferences.Editor editor = sharedPreferences.edit();\r\neditor.clear();\r\neditor.apply();\n"})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsxs)(r.h3,{id:"-errores-comunes-ev\xedtalos",children:["\u274c ",(0,a.jsx)(r.strong,{children:"Errores Comunes (\xa1Ev\xedtalos!)"})]}),"\n",(0,a.jsx)(r.admonition,{title:"evita estos errores...",type:"danger",children:(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsxs)(r.strong,{children:["Olvidar llamar a ",(0,a.jsx)(r.code,{children:"apply()"})," o ",(0,a.jsx)(r.code,{children:"commit()"}),":"]})," Los cambios no se guardan."]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Uso simult\xe1neo en varios hilos:"})," Puede causar inconsistencias."]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Almacenar datos grandes o sensibles:"})," Afecta el rendimiento y la seguridad."]}),"\n"]})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsxs)(r.h3,{id:"-buenas-pr\xe1cticas",children:["\u2705 ",(0,a.jsx)(r.strong,{children:"Buenas Pr\xe1cticas"})]}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["\ud83d\udccc ",(0,a.jsx)(r.strong,{children:"Usar constantes para las claves:"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public static final String PREFS_NAME = "MisPreferencias";\r\npublic static final String KEY_USUARIO = "usuario";\r\npublic static final String KEY_EDAD = "edad";\n'})}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.strong,{children:"Uso:"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'editor.putString(KEY_USUARIO, "Juan");\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["\ud83d\udee0\ufe0f ",(0,a.jsx)(r.strong,{children:"Encapsular l\xf3gica en una clase helper:"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public class SharedPreferencesHelper {\r\n    private static final String PREFS_NAME = "MisPreferencias";\r\n    private SharedPreferences sharedPreferences;\r\n\r\n    public SharedPreferencesHelper(Context context) {\r\n        sharedPreferences = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n    }\r\n\r\n    public void guardarUsuario(String usuario) {\r\n        sharedPreferences.edit().putString("usuario", usuario).apply();\r\n    }\r\n\r\n    public String obtenerUsuario() {\r\n        return sharedPreferences.getString("usuario", "Usuario no registrado");\r\n    }\r\n\r\n    public void limpiarTodo() {\r\n        sharedPreferences.edit().clear().apply();\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.strong,{children:"Uso:"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'SharedPreferencesHelper prefsHelper = new SharedPreferencesHelper(context);\r\nprefsHelper.guardarUsuario("Juan");\r\nString usuario = prefsHelper.obtenerUsuario();\n'})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.hr,{})]})}function u(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>c});var s=n(6540);const a={},i=s.createContext(a);function o(e){const r=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);